<!DOCTYPE html>
<html class="dark">
    <head>
        <title>TMUI Framework Test</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">

        <link rel="stylesheet" href="tmui.css">
        <style>
            #files {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
            }

            @media screen and (max-width: 1200px) {
                #files {
                    grid-template-columns: repeat(3, 1fr);
                }
            }

            @media screen and (max-width: 768px) {
                #files {
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem!important;
                }

                #toolbar {
                    border-radius: 0!important;
                    bottom: 0!important;
                    width: 100vw!important;
                    height: 20vw!important;
                    font-size: 4vw!important;
                }
            }

            .file_block {
                width: 100%;
                /* height: 100%; */
            }

            .file_preview {
                aspect-ratio: 16 / 9;
            }

            .file_title {
                text-align: center;
            }
        </style>
        <script src="https://kit.fontawesome.com/4eaebaa12d.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header style="margin: 1em 0 2em 0">
            <div class="container">
                <div class="row buttons height_100">
                    <!-- <button style="font-size: 30px; margin-right: .25em;" class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/grid.svg" onclick="window.open('http://tetimiki.hu/')"></button> -->
                    <svg style="color:var(--accent-color)" width="48" height="48" viewBox="0 0 12.7 12.7" version="1.1" id="icosahedron" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                        <path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(1)" d="M 1.5059844,5.982392 8.567967,8.7628023 7.4313443,1.2941536 Z" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.7)" d="M 1.5059844,5.982392 3.7638499,11.733769 8.567967,8.7628023" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.23)" d="M 3.7638499,11.733769 8.567967,8.7628023 9.9264735,10.775645" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.235)" d="M 9.9264735,10.775645 8.567967,8.7628023 12.308291,4.9006454" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.622)" d="M 12.308291,4.9006454 8.567967,8.7628023 7.4313443,1.2941536" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.33)" d="M 7.4313443,1.2941536 8.369879,0.84090983 12.308291,4.9006454 Z" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.56)" d="M 8.369879,0.84090983 7.4313443,1.2941536 2.3357866,1.1430723" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.926)" d="M 2.3357866,1.1430723 1.5059844,5.982392 7.4313443,1.2941536" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.65)" d="M 2.3357866,1.1430723 0.54570303,7.0417146 1.5059844,5.982392" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.454)" d="M 1.5059844,5.982392 0.54570303,7.0417146 3.7638499,11.733769" />
                    </svg>
                    <p class="no_xs" style="margin-right: .5em; font-weight: 500; font-size: 1.2em">Limes</p>
                    <!--
                        <button class="icon_button color_secondary hoverable modal_handler" icon-source="https://icons.getbootstrap.com/assets/icons/gear-fill.svg" tm-for="#settings_modal"></button>
                        <button class="icon_button color_secondary hoverable modal_handler" icon-source="https://icons.getbootstrap.com/assets/icons/search-heart-fill.svg" tm-for="#settings_modal"></button>
                    -->
                    <div id="icons" class="flex color_secondary" style="gap: .5em;">
                        <i class="fa-solid fa-gear hoverable"></i>
                        <i class="fa-solid fa-magnifying-glass hoverable"></i>
                    </div>
                    <div class="modal_handler push_right flex color_secondary hoverable" tm-for="#user_modal" style="gap: .2em; align-items: center;">
                        <i class="fa-solid fa-user"></i>
                        <!-- <button class="icon_button" icon-source="https://icons.getbootstrap.com/assets/icons/person-fill.svg"></button> -->
                        <p class="no_xs">Miki</p>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="container">
                <div class="toggle_list">
                    <p class="toggle">Iskola</p>
                    <p class="toggle">Milestone</p>
                    <p class="toggle">EM</p>
                    <p class="toggle">Fizika</p>
                    <p class="toggle">IPhO</p>
                    <p class="toggle">idk</p>
                    <p class="toggle">idk</p>
                    <p class="toggle">idk</p>
                    <p class="toggle">idk</p>
                </div> 
                <div class="row align_items_baseline">
                    Today
                    <p class="push_right">2024. 10. 18.</p>
                </div>
                <!-- <div class="row"><button class="modal_handler" tm-for="#myModal" tm-role="open">OPEN MODAL</button></div> -->
                <div id="files" class="row">
                    <div class="file_block holdable clickable" oncontextmenu="tmui.open_modal(document.querySelector('#note_info_modal'))">
                        <div class="file_preview card spin_border" style="--border-spin-duration: 10s"></div>
                        <p class="file_title">Új jegyzet</p>
                    </div>
                    <div class="file_block holdable clickable" oncontextmenu="tmui.open_modal(document.querySelector('#note_info_modal'))">
                        <div class="file_preview card spin_border" style="--border-spin-duration: 10s"></div>
                        <p class="file_title">Új jegyzet</p>
                    </div>
                    <div class="file_block holdable clickable" oncontextmenu="tmui.open_modal(document.querySelector('#note_info_modal'))">
                        <div class="file_preview card spin_border" style="--border-spin-duration: 10s"></div>
                        <p class="file_title">Új jegyzet</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- <button id="new" class="icon_button circle" tm-source="https://icons.getbootstrap.com/assets/icons/plus-lg.svg" style="position: fixed; right: 5vmin; bottom: 5vmin; background-color: var(--accent-color); padding: .2em; font-size: 50px; box-sizing: content-box;"></button> -->

        <div id="toolbar" class="capsule card spin_border" style="--border-spin-duration: 10s; position: absolute; left: 50vw; translate: -50% 0; bottom: 2vh; width: 60vw; height: 10vw; padding: 0 4vw; max-height: 12vh;">
            <div class="row height_100">
                <div class="row" style="width: fit-content; gap: .2em;">
                    <button class="box_shadow icon_button background_tertiary circle" id="ctrl_z" tm-source="https://icons.getbootstrap.com/assets/icons/arrow-counterclockwise.svg" style="padding: .1em; font-size: .8em; box-sizing: content-box;"></button>
                    <button class="box_shadow icon_button background_tertiary circle" id="ctrl_y" tm-source="https://icons.getbootstrap.com/assets/icons/arrow-clockwise.svg" style="padding: .1em; font-size: .8em; box-sizing: content-box;"></button>
                </div>
                <div id="tools" class="flex height_100 " style="flex-grow: 1; overflow-y: hidden;"></div>
                <div id="colors" style="display: grid; grid-template-columns: repeat(3, auto); max-height: 100%; gap: .2em; height: 2.2em;">
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                    <div class="box_shadow background_tertiary circle" style="width: 1em;"></div>
                </div>
            </div>
        </div>

        <div id="settings_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Beállítások</div><button class="modal_handler icon_button" tm-for="#settings_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="container">
                    <div class="row">
                        Sötét Mód <input class="push_right" checked type="checkbox" onclick="tmui.set_theme(this.checked ? 'dark' : 'light')">
                    </div>
                    <div class="row">
                        Subi Dubi
                    </div>
                    <div class="row color_list" tm-colors="red green blue yellow purple magenta">
                    </div>
                </div>
            </div>
        </div>

        <div id="user_modal" class="modal spin_border narrow">
            <p class="horizontal_button">Miki</p>
            <p class="horizontal_button">Riti</p>
            <p class="horizontal_button">Imcsi</p>
            <p class="horizontal_button">Csani</p>
            <p class="horizontal_button gap_before">Új profil</p>
            <p class="horizontal_button modal_handler" tm-for="#login_modal">Bejelentkezés</p>
            <p style="color: var(--color-danger);" class="horizontal_button">
                Kijelentkezés
                <button class="icon_button push_right" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-right.svg"></button>
            </p>
        </div>

        <div id="note_info_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Új jegyzet</div><button class="modal_handler icon_button" tm-for="#note_info_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                Subi Dubi
            </div>
            <div class="modal_footer">
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/copy.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-up.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-right.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/trash3.svg" style="color: var(--color-danger);"></button>
            </div>
        </div>

        <div id="login_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Bejelentkezés</div><button class="modal_handler icon_button" tm-for="#login_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="container">
                    <div class="row input_row">
                        <p>
                            Email:
                        </p>
                        <input id="login_email" autocomplete="email" autocapitalize="none" type="email" placeholder="john.doe@gmail.com">
                    </div>
                    <div class="row input_row">
                        <p>
                            Jelszó:
                        </p>
                        <input id="login_password" autocomplete="current-password" type="password" placeholder="Titok123">
                    </div>
                    <div class="row">
                        <button class="modal_handler push_right" tm-for="#login_modal" tm-role="close">Bejelentkezés</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="tmui.js"></script>
        <script>
            const tmui = tmui_controls();


            const setup = () => {
                document.querySelectorAll(".file_preview").forEach(el => el.style.aspectRatio = window.innerWidth / window.innerHeight);

                window.addEventListener('resize', () => { console.log("resizing"); document.querySelectorAll(".file_preview").forEach(el => el.style.aspectRatio = window.innerWidth / window.innerHeight); });
            }
        </script>
    </body>
</html>
